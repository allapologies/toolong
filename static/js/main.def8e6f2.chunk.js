(this["webpackJsonpfrontend-challenge"]=this["webpackJsonpfrontend-challenge"]||[]).push([[0],{11:function(e,t,r){},12:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(6),a=r.n(c),o=(r(11),r.p+"static/media/tier-logo.b46cecf9.svg"),u=(r(12),r(4)),l=r(2),i=r.n(l),b=r(3),p=function(){return{save:Object(n.useCallback)(function(){var e=Object(b.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[])}},d=function(){var e=Object(n.useState)({status:"",error:null,result:""}),t=Object(u.a)(e,2),r=t[0],s=t[1],c=Object(n.useCallback)(function(){var e=Object(b.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({status:"loading",error:null,result:""}),e.prev=1,e.next=4,fetch("https://api-ssl.bitly.com/v4/shorten",{method:"POST",body:JSON.stringify({long_url:t}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("d79228864b187e6aa6b9208b998bf740d221c7f6")}});case 4:return r=e.sent,e.next=7,r.json();case 7:n=e.sent,[200,201].includes(r.status)?s({status:"success",error:null,result:n.link}):s({status:"error",error:n.description,result:""}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error&&s({status:"error",error:e.t0.message,result:""}),s({status:"error",error:"Unknown error",result:""});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),[r,s]);return{status:r.status,error:r.error,result:r.result,getShortLink:c}},j=r(0),f=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),r=t[0],c=t[1],a=d(),o=a.status,l=a.result,i=a.error,b=a.getShortLink,f=p().save,h=Object(n.useCallback)((function(e){c(e.target.value)}),[]),O=Object(n.useCallback)((function(e){e.preventDefault(),b(r)}),[r]);return s.a.useEffect((function(){l&&f(l)}),[l]),Object(j.jsxs)("form",{onSubmit:O,children:[Object(j.jsxs)("label",{htmlFor:"shorten",children:["Url:",Object(j.jsx)("input",{placeholder:"Url to shorten",id:"shorten",type:"text",value:r,onChange:h})]}),Object(j.jsx)("input",{type:"submit",value:"Shorten and copy URL",disabled:"loading"===o||!r}),"success"===o&&Object(j.jsx)("div",{className:"success",children:"".concat(l," copied to clipboard!")}),"error"===o&&Object(j.jsx)("div",{className:"error",children:i})]})},h=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(j.jsx)("p",{children:"Change mobility for good"}),Object(j.jsx)(f,{})]})};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.def8e6f2.chunk.js.map